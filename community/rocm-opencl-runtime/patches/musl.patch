diff --git a/amdocl/glibc_functions.cpp b/amdocl/glibc_functions.cpp
index 908ed75..7ccde31 100644
--- a/amdocl/glibc_functions.cpp
+++ b/amdocl/glibc_functions.cpp
@@ -26,7 +26,7 @@
 extern "C" {
 #endif // __cplusplus
 
-#if defined(_LP64)
+#if defined(__GLIBC__) && defined(_LP64)
 asm (".symver memcpy, memcpy@GLIBC_2.2.5");
 void *__wrap_memcpy(void *dest, const void *src, size_t n)
 {
